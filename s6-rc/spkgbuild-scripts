# description	: A complete service manager for s6 systems.
# homepage	: https://skarnet.org/software/s6-rc/
# depends	: s6

name=s6-rc
version=0.5.3.2
release=1
backup="etc/s6/rc.local
        etc/s6/config/tty1.conf
        etc/s6/config/tty2.conf
        etc/s6/config/tty3.conf
        etc/s6/config/tty4.conf
        etc/s6/config/tty5.conf
        etc/s6/config/tty6.conf
        etc/s6/config/ttyS.conf
        etc/s6/config/dmesg.conf
        etc/s6/config/hwclock.conf
        etc/s6/config/mount-cgroups.conf
        etc/s6/config/mount-tmpfs.conf
        etc/s6/config/udevd.conf
        usr/lib/sysctl.d/50-default.conf"

source="https://skarnet.org/software/$name/$name-$version.tar.gz
	50-default.conf  
	mount-cgroups.conf  
	tty1.conf	
	tty4.conf  
	ttyS.conf
	dmesg.conf
	mount-tmpfs.conf
	tty2.conf
	tty5.conf
	udevd.conf
	hwclock.conf
	tty3.conf
	tty6.conf"


build() {
	cd $name-$version
	./configure --prefix=/usr \
		--libdir=/usr/lib \
		--libexecdir=/usr/lib \
		--datadir=/etc \
		--enable-shared \
		--disable-static
	make
	make DESTDIR=$PKG install

#for i in 50-default.conf mount-cgroups.conf tty1.conf tty4.conf ttyS.conf dmesg.conf mount-tmpfs.conf tty2.conf tty5.conf udevd.conf hwclock.conf tty3.conf tty6.conf; do
#	cp $PKG/etc
#	done
}
